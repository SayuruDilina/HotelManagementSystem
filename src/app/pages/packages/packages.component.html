<div class="container m-0 p-0">
    <div class="row">
        <div class="col-8" style="max-width: 80%;">
            <p style="margin-top: 20px; margin-left: 30px; font-weight: bolder; font-size:xx-large;">Packages</p>
            <div class="dropdown">
                <button id="dropdownMenuButton" class="btn btn-secondary dropdown-toggle" type="button"
                    data-bs-toggle="dropdown" aria-expanded="false">
                    Dropdown button
                    {{ selectedPackage}}
                </button>
                <div style="align-items: center;" class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <button class="dropdown-item" (click)="selectPackage('Accommodation')">Accommodation</button>
                    <button class="dropdown-item" (click)="selectPackage('DayOut')">Day Out</button>
                    <button class="dropdown-item" (click)="selectPackage('MenuOptions')">Menu-Options</button>
                </div>
            </div>
        </div>
    </div>
    <hr>
    <input class="form-control border-1"
        style=" width: 350px; margin-left:400px; font-size:large; font-weight:600;  margin-top: 20px;" type="text"
        placeholder="Search" [(ngModel)]="searchId">
    <i (click)="searchPackage()"
        style="margin-left:700px; font-size: x-large; font-weight:600; position: absolute;  margin-top: -40px;"
        class="bi bi-search"></i>


    <div class="row">
        <div class="col-12 col-md-10">
            <div class="card" data-aos="fade-up">
                <div class="card-body">
                    <div class="row">
                        <!-- Left Column -->
                        <div class="col-12 col-md-6">
                            <!-- Package Number -->
                            <div class="forms-group d-flex align-items-center">
                                <h5 class="card-title" style="font-weight: 600; margin-right: 10px;">Package No :</h5>
                                <input [(ngModel)]="Package.packageNum" type="text" placeholder="Enter Package No"
                                    class="form-control">
                            </div>

                            <!-- Title -->
                            <div class="forms-group mt-3">
                                <h5 class="card-title-2">Title</h5>
                                <input [(ngModel)]="Package.packageName" type="text" placeholder="Enter Title"
                                    class="form-control" style="margin-left: 50px;">
                            </div>

                            <!-- Per Person Price -->
                            <div class="forms-group mt-3">
                                <label for="pricePerPerson" style="font-weight: 600;">Per Price (Rs.)</label>
                                <input [(ngModel)]="Package.price" type="text" id="pricePerPerson"
                                    placeholder="Enter Price" class="form-control">
                            </div>

                            <!-- Availability -->
                            <div class="forms-group mt-3">
                                <label for="availability" style="font-weight: 600;">Availability</label>
                                <input [(ngModel)]="Package.availableQty" type="text" id="availability"
                                    placeholder="Enter Availability" class="form-control">
                            </div>
                        </div>

                        <!-- Right Column -->
                        <div class="col-12 col-md-6">
                            <!-- Image Uploads -->
                            <div class="forms-group">
                                <label style="font-weight: 600;">Upload Images:</label>
                                <input (change)="onImageUpload($event,'image1')" type="file" class="form-control mt-2">



                            </div>
                            <input (change)="onImageUpload($event,'image4')" type="file" class="form-control mt-2">
                            <input (change)="onImageUpload($event,'image3')" type="file" class="form-control mt-2">
                            <input (change)="onImageUpload($event,'image2')" type="file" class="form-control mt-2">
                            <input [(ngModel)]="Package.id" type="text" placeholder="Package ID"
                                style=" margin-top: 40px; padding: 20px; margin-left: 60px; ">
                            <div class="forms-group mt-3">
                                <label for="pricePerPerson" style="font-weight: 600;">Details</label>
                                <input [(ngModel)]="detailInput" type="text" id="pricePerPerson"
                                    placeholder="Enter Price" class="form-control">

                            </div>
                            <button [disabled]="isUpdateDetails==true" (click)="addDetail()">Add Details</button>
                            <button (click)="updateDetail()">Update Details</button>
                            <button (click)="deleteDetail()">delete Details</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <button [disabled]="isClicked==true" (click)="addPackage()">ADD PACKAGE</button>
        <button (click)="updatePackage()">Update PACKAGE</button>
        <button (click)="deletePackage()">Delete PACKAGE</button>
        <div class="row">
            <div class="col-10">
                <table class="table table-striped table-bordered table-hover">
                    <thead>
                        <tr>
                            <th scope="col">ID</th>
                            <th scope="col">Pacakge Details</th>
                            <th scope="col">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let detail of Package.PackgeDetailsArray; let i = index"
                            (click)="getIndex(i,detail)">
                            <td>{{ i + 1 }}</td> <!-- Displaying index as ID -->
                            <td>{{detail}}</td>
                            <td>Edit</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="row">
            <div class="col-10">
                <table class="table table-striped table-bordered table-hover">
                    <thead>
                        <tr>
                            <th scope="col">ID</th>
                            <th scope="col">Package No</th>
                            <th scope="col">Package Name </th>
                            <th scope="col">price</th>
                            <th scope="col">image1</th>
                            <th scope="col">image2</th>
                            <th scope="col">image3</th>
                            <th scope="col">image4</th>
                            <th scope="col">Avcailability</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let package of accomdationPackageList">
                            <td><span *ngIf="package.accommodationId">{{ package.accommodationId }}</span>
                                <span *ngIf="package.dayOutID">{{ package.dayOutID }}</span>
                                <span *ngIf="package.menuOptionId">{{ package.menuOptionId }}</span>
                            </td>
                            <td>{{package.packageNum}}</td>
                            <td>{{package.packageName}}</td>
                            <td>{{package.price}}</td>

                            <td> <img style="width: 100px;" [src]="'data:image/jpeg;base64,' + package.image1"
                                    alt="Image 1"></td>
                            <td><img style="width: 100px;" [src]="'data:image/jpeg;base64,' + package.image2"
                                    alt="Image 1"></td>
                            <td><img style="width: 100px;" [src]="'data:image/jpeg;base64,' + package.image3"
                                    alt="Image 1"></td>
                            <td> <img style="width: 100px;" [src]="'data:image/jpeg;base64,' + package.image4"
                                    alt="Image 1"></td>
                            <td><span *ngIf="package.availableQty">{{ package.availableQty }}</span>
                                <span *ngIf="!package.availableQty">{{ package.availableSheets }}</span>
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>
    </div>